# -


Создание сокета: Клиенты и серверы создают свои соответствующие сокеты и сервер выполняет ожидание по некому порту. Так как такой сервер способен создавать множество подключений с различными клиентами (а также и с тем же самым), ему требуется некая очередь для обработки различных запросов.

Запрос на подключение: Имеющиеся клиенты отправляют запросы на соединение со своим сервером. Обратите внимание на то, что у нас могут быть различными номера портов, так как один может назначаться лишь для исходящего обмена, а другой на вход. Это зависит от установленных настроек самого хоста. Естественно, значение локального порта клиента не обязательно должно совпадать со значением порта его удалённого сервера. Установленный сервер получает соответствующий запрос и, если он принимается, создаётся некое новое соединение. На приводимой схеме значением порта сокета клиента выступает 8080, в то время как значением порта сервера является 80.

Взаимодействие: Теперь наши клиент и сервер взаимодействуют через некий виртуальный канал между созданным сокетом клиента и новым сокетом (со стороны сервера), созданным специально для необходимого потока данных: сокета данных. Как уже было упомянуто на самой первой фазе, наш сервер создаёт такой сокет данных, так как его первый сокет данных применяется исключительно для запросов управления. Таким образом становится возможным для работы с этим сервером множества клиентов, причём каждый с соответствующим сокетом данных, намеренно создаваемым для него сервером.
